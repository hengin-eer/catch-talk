## 概要
Geminiを使った、ユーザ二人の会話の成分を分析して、それぞれテンションと論理志向・感情志向のパラメータを`-1~1`の連続値で返す`app/actions/analyzeChat.ts`がある。
このロジックにに対して新たに、会話パターンによってそれぞれ対応した変化球のキー名を返すようににしたい。

## 仕様

### 変化球の種類と型定義
変化球の種類は`types/game.ts`にあるように以下の5種類である。

```typescript
export type PitchType = "straight" | "slider" | "curve" | "nuckle" | "fork";
```

### 変化球の抽出ロジック
履歴を含めた会話内容について、各変化球ごとに紐紐づいた会話パターンのいずれかにマッチした場合、その変化球を抽出する。
マッチしなかった場合は球種は`straight`とする。

#### 変化球ごとの会話パターン
- `straight`: 
  - 短文、明瞭、定型的な応答
  - 例
    - A: 明日の会議は10時からで間違いないですか？ B: はい、第一会議室で予定通り行います。資料の準備だけお願いします。 A: 承知しました。人数分のコピーをとっておきます。 B: ありがとう。あと、プロジェクターの接続も確認しておいてください。
- `slider`
  - 文脈のずれ、話題の急展開
  - 文脈への否定や反論
  - 例
    - A: 「この企画、絶対うまくいくと思うんだよね。ターゲット層に刺さるはずだし」 B: 「いや、それは楽観的すぎるでしょ。競合の分析も甘いし、今の予算じゃ無理だよ」 A: 「……そこまで言わなくてもいいじゃん」
    - A: 「今日のランチ、駅前のイタリアンにしない？」 B: 「そういえば、来週の出張のホテル予約した？ まだなら早めに取らないと埋まるよ」 A: 「えっ、あ、うん。後でやるけど……パスタの話は？」
- `curve`
  - フィラー、冗長、回りくどい表現
  - 話題が逸れる、会話のペースが遅い
  - 例
    - A：「好きな曲なに？」 B：「最近聞いてるアーティストが○○っていうんやけど知ってる？その人のライブに最近行ってきたんだけどほんとによくて！ライブのファンサがアツくてマジやばかった！あれ、何の話だっけ？」
    - A: 昨日の件なんですけど、えーっと、結論から言うと、その〜、できなかったというか、やろうとはしたんですけど、なんていうか、パソコンの調子が、あのー、急に悪くなってしまって……。 B: つまり、終わってないってこと？ A: いえ！ 終わってないわけではないんですが、その、完全に終わったかと言われると、えー、9割くらいというか、実質的には終わっているんですけど、保存する前に、あの、プツンといきまして。
- `nuckle`
  - 会話が噛み合わない
  - 相手の発言に対して的外れな返答をする
  - 軸・筋が分からない
  - 「何話してんだコイツ？？」という感じ
  - 例
    - A: やっぱり、冷蔵庫の裏側には宇宙の真理が隠されていると思うんだ。 B: なるほど。それで、昨日のカレーは美味しかった？ A: カレーの辛さが、民主主義の根幹を揺るがすことは明白だよ。だから僕は、右足の小指でピアノを弾く練習を始めたんだ。 B: 全く脈絡がないけど、とりあえず病院行こうか。
    - Ａ：「公園の遊具で一番好きだったの何？」 Ｂ：「俺は家でゲームかな」 Ａ：「は？」
    - Ａ：「ここらへんでご飯にしようか」 Ｂ：「そうだね～」 Ａ：「いい店知らない？」 Ｂ：「あぁ～俺がよくいく古着屋があるんだけどマジで品揃えいいよ」 Ａ：「は？」
    - Ａ：「お勧めの本とかある？」 Ｂ：「本な～あんま読まへんのよな。俺って結構料理好きやんか？」 Ａ：「？　う、うん」 Ｂ：「いっつもクックパッドとかでレシピ探してるからさ」 Ａ：「はぁ」
- `fork`
  - 会話の前後で感情が大きく変化する
  - 急にトークダウンする
  - 急にはしごを外すような発言
  - 例
    - Ａ：「最近勉強忙しくね？」 Ｂ：「わかる～テスト期間だからなおさら忙しくない？」 Ａ：「いや小テストばっかりやからそんなことないやろw」 Ｂ：「クソが」
    - Ａ：「うわこの服たっか！！こんなん着て外で歩く気持ちにならんわ！！」 Ｂ：「ほんまや高すぎやろ！こんなん買う人おらんやろ！！」 Ａ：「それは買う人に対して失礼やと思うわ」 Ｂ：「お前マジで地獄に落ちろ」

`slider`のみ対応させる会話パターンが曖昧なため、一般的な会話パターンの中から適切な例を追加してほしい。

### ロジックの流れ
1. jotaiから会話履歴を取得する
2. 既存のプロンプトと会話成分のルールに加えて、変化球の抽出ルールを追加する
3. レスポンスとしてほしい形をスキーマとして定義する
4. プロンプトに会話履歴と、パラメータ抽出ルールを渡してGeminiに投げる
5. Geminiののレスポンスから、パラメータと変化球のキー名を抽出し、jotaiに保存する

5.でのjotaiに保存する返り値は既存の`ChatAnalysisResult`に変わって`game.ts`にある`GptBasedResul`型とする。
